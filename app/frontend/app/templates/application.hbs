{{#bs-navbar type='inverse' class='bg-primary'
             collapsed=collapsed
             onCollapse=(action (mut collapsed) true)
             onExpand=(action (mut collapsed) false) as |navbar|}}

  <div class="navbar-header">
    {{navbar.toggle}}

    {{#link-to "index" class="navbar-brand"}}
      JSONAPI Schema Generator
    {{/link-to}}
  </div>

  {{#navbar.content}}

    {{#if session.isAuthenticated}}

      {{#navbar.nav class='ml-auto' as |nav|}}

        {{#nav.dropdown tagName="li" as |dd|}}
          {{#dd.toggle}}{{sessionWrapper.user.name}} <span class="caret"></span>{{/dd.toggle}}

          {{#dd.menu align='right' as |ddm|}}
            {{#ddm.item}}<a class="dropdown-item" href="#" {{action 'invalidateSession'}}>Logout</a>{{/ddm.item}}
          {{/dd.menu}}
        {{/nav.dropdown}}

      {{/navbar.nav}}

    {{else}}

      {{#navbar.nav class='ml-auto' as |nav|}}
        {{#nav.item}}{{#nav.link-to "login"}}Login{{/nav.link-to}}{{/nav.item}}
      {{/navbar.nav}}

    {{/if}}

  {{/navbar.content}}

{{/bs-navbar}}

<div class="container-fluid mt-2">
  {{outlet}}
</div>
